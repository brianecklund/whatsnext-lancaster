(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4530:(e,a,l)=>{Promise.resolve().then(l.bind(l,7971))},7971:(e,a,l)=>{"use strict";l.d(a,{default:()=>u});var s=l(5155),t=l(2115),n=l(63),i=l(9056),r=l(6273),c=l(2456),d=l(4938);function o(e){if(!e)return null;try{if(/^\d{4}-\d{2}-\d{2}$/.test(e))return(0,i.H)(e+"T00:00:00");return(0,i.H)(e)}catch(e){return null}}function u(e){let{events:a}=e,l=(0,n.useRouter)(),i=(0,n.useSearchParams)(),u=i.get("event");function v(e){let a=e.toString();l.replace(a?"/?".concat(a):"/")}let p=(0,t.useMemo)(()=>{let e=new Map;for(let s of a){var l;if(!s.start_datetime)continue;let a=o(s.start_datetime);if(!a)continue;let t=(0,d.GP)(a,"yyyy-MM-dd"),n=null!=(l=e.get(t))?l:[];n.push(s),e.set(t,n)}return Array.from(e.keys()).sort().map(a=>{var l;let s=null!=(l=e.get(a))?l:[];return s.sort((e,a)=>{var l,s,t,n;return(e.start_datetime&&null!=(t=null==(l=o(e.start_datetime))?void 0:l.getTime())?t:0)-(a.start_datetime&&null!=(n=null==(s=o(a.start_datetime))?void 0:s.getTime())?n:0)}),{key:a,events:s}})},[a]),x=(0,t.useMemo)(()=>{var e;return a.length?u&&null!=(e=a.find(e=>e.key===u))?e:a[0]:null},[a,u]),j=(0,t.useMemo)(()=>{var e;return u&&null!=(e=a.find(e=>e.key===u))?e:null},[a,u]),N=!!u;return(0,s.jsxs)("div",{className:"pageShell",children:[(0,s.jsx)("div",{className:"tagline",children:"A shared calendar for local events, specials, and pop-ups in Lancaster, PA."}),(0,s.jsxs)("div",{className:"split",children:[(0,s.jsx)("div",{className:"pane",children:(0,s.jsxs)("div",{className:"scroll",children:[(0,s.jsx)("div",{className:"leftSticky",children:(0,s.jsxs)("div",{className:"tabs","aria-label":"Primary navigation",children:[(0,s.jsx)("a",{className:"tabBtn",href:"/","aria-current":"page",children:"Calendar"}),(0,s.jsx)("a",{className:"tabBtn",href:"/locations",children:"Directory"}),(0,s.jsx)("a",{className:"tabBtn",href:"/updates",children:"Updates"})]})}),0===p.length?(0,s.jsx)("div",{className:"emptyList",children:"No upcoming events yet."}):p.map((e,a)=>{let{key:l,events:t}=e;return(0,s.jsxs)("section",{className:"dayBlock",style:{borderTop:0===a?"0":void 0},children:[(0,s.jsx)("div",{className:"dayTitle",children:(0,s.jsx)("span",{className:"dayTitleText",children:function(e){let a=o(e);if(!a)return e;let l=(0,r.c)(a)?"Today":(0,c.e)(a)?"Tomorrow":(0,d.GP)(a,"EEEE");return"".concat(l,", ").concat((0,d.GP)(a,"MMM d"))}(l)})}),t.map(e=>{var a,l,t;let n=u?u===e.key:(null==x?void 0:x.key)===e.key;return(0,s.jsxs)("button",{className:"eventRow","data-active":n?"true":"false",onClick:()=>(function(e){let a=new URLSearchParams(i.toString());a.set("event",e),v(a)})(e.key),type:"button",children:[(0,s.jsx)("span",{className:"eventRowTitle",children:null!=(t=e.title)?t:"Untitled event"}),(0,s.jsxs)("span",{className:"eventRowMeta",children:[m(e),(null==(a=e.location)?void 0:a.name)?(0,s.jsx)("span",{className:"dot",children:"•"}):null,(null==(l=e.location)?void 0:l.name)?(0,s.jsx)("span",{children:e.location.name}):null]})]},e.id)})]},l)})]})}),(0,s.jsx)("div",{className:"pane paneRight",children:(0,s.jsx)("div",{className:"scroll",children:x?(0,s.jsx)(h,{event:x}):(0,s.jsx)("div",{className:"emptyRight",children:"Select an event to see details."})})})]}),(0,s.jsxs)("div",{className:"mobileTabs","aria-label":"Primary navigation",children:[(0,s.jsx)("a",{className:"tabBtn",href:"/","aria-current":"page",children:"Calendar"}),(0,s.jsx)("a",{className:"tabBtn",href:"/locations",children:"Directory"}),(0,s.jsx)("a",{className:"tabBtn",href:"/updates",children:"Updates"})]}),(0,s.jsxs)("div",{className:"mobileDetail","data-open":N?"true":"false","aria-hidden":!N,children:[(0,s.jsxs)("div",{className:"mobileDetailHeader",children:[(0,s.jsx)("button",{className:"backBtn",type:"button",onClick:function(){let e=new URLSearchParams(i.toString());e.delete("event"),v(e)},children:"Back"}),(0,s.jsx)("div",{className:"mobileDetailTitle",children:"Event"})]}),(0,s.jsx)("div",{className:"scroll",style:{padding:"0 16px 24px 16px"},children:j?(0,s.jsx)(h,{event:j}):null})]})]})}function m(e){let a=o(e.start_datetime),l=o(e.end_datetime),s=!!(e.start_datetime&&!/^\d{4}-\d{2}-\d{2}$/.test(e.start_datetime));if(e.all_day||!s)return"All day";if(a&&l){let e=(0,d.GP)(a,"h:mma").toLowerCase(),s=(0,d.GP)(l,"h:mma").toLowerCase();return"".concat(e," – ").concat(s)}return a?(0,d.GP)(a,"h:mma").toLowerCase():""}function h(e){var a,l,t,n,i;let{event:r}=e,c=o(r.start_datetime),u=c?(0,d.GP)(c,"EEEE, MMMM do"):"",h=m(r),v=r.status&&"Scheduled"!==r.status?r.status:null,p=r.website_url||null,x=r.tickets_url||null;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"rightHeader",children:[u?(0,s.jsx)("div",{className:"rightDayLabel",children:u}):null,(0,s.jsx)("h1",{className:"detailTitle",children:null!=(n=r.title)?n:"Event"}),(0,s.jsxs)("div",{className:"detailMeta",children:[(0,s.jsx)("span",{className:"venue",children:null!=(i=null==(a=r.location)?void 0:a.name)?i:"Unknown location"}),h?(0,s.jsx)("span",{className:"muted",children:h}):null]}),(0,s.jsxs)("div",{className:"detailChips","aria-label":"Event highlights",children:[r.event_type?(0,s.jsx)("span",{className:"pill",children:r.event_type}):null,r.cost?(0,s.jsx)("span",{className:"pill",children:r.cost}):null,r.age_restriction?(0,s.jsx)("span",{className:"pill",children:r.age_restriction}):null,v?(0,s.jsx)("span",{className:"pill pillWarn",children:v}):null,Array.isArray(r.tags)?r.tags.slice(0,4).map(e=>(0,s.jsx)("span",{className:"pill pillSoft",children:e},e)):null]})]}),(0,s.jsx)("div",{className:"heroImage",style:r.image_url?{backgroundImage:"url(".concat(r.image_url,")")}:void 0,"aria-hidden":"true"}),r.summary?(0,s.jsx)("p",{className:"summary",children:r.summary}):null,(0,s.jsx)("div",{className:"detailBody",children:r.description?r.description:"No description added yet."}),(0,s.jsxs)("div",{className:"ctaRow",children:[(0,s.jsx)("a",{className:"ctaBtn","data-disabled":p?"false":"true",href:null!=p?p:void 0,target:p?"_blank":void 0,rel:p?"noreferrer":void 0,"aria-disabled":!p,onClick:e=>{p||e.preventDefault()},children:"Website"}),(0,s.jsx)("a",{className:"ctaBtn","data-disabled":x?"false":"true",href:null!=x?x:void 0,target:x?"_blank":void 0,rel:x?"noreferrer":void 0,"aria-disabled":!x,onClick:e=>{x||e.preventDefault()},children:"Tickets"})]}),(null==(l=r.location)?void 0:l.address)?(0,s.jsxs)("div",{className:"finePrint",children:[(0,s.jsx)("span",{className:"label",children:"Address"}),(0,s.jsx)("span",{children:r.location.address})]}):null,(null==(t=r.location)?void 0:t.website)?(0,s.jsxs)("div",{className:"finePrint",children:[(0,s.jsx)("span",{className:"label",children:"Venue site"}),(0,s.jsx)("a",{href:r.location.website,target:"_blank",rel:"noreferrer",children:r.location.website})]}):null]})}}},e=>{e.O(0,[836,441,255,358],()=>e(e.s=4530)),_N_E=e.O()}]);